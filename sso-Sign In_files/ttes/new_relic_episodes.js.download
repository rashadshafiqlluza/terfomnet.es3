var NR_QUEUE=[];void 0!==window.NREUMQ?NR_QUEUE=NREUMQ:void 0!==window.EPISODES?NR_QUEUE=EPISODES.q:void 0!==window.NREUM&&(NR_QUEUE=NREUM.q);var NREUM=NREUM||{};NREUM.q=NR_QUEUE,NREUM.targetOrigin=document.location.protocol+"//"+document.location.host,NREUM.version=23,NREUM.autorun=void 0===NREUM.autorun||NREUM.autorun,NREUM.init=function(){NREUM.jsonp=!1,NREUM.beaconToken=null,NREUM.navCookie=!0,NREUM.bDone=!1,NREUM.cycle=0,NREUM.logging=!1,NREUM.contentLoadFired=!1,NREUM.marks={},NREUM.measures={},NREUM.starts={},NREUM.findStartTime(),NREUM.load=null,NREUM.addEventListener("beforeunload",NREUM.beforeUnload,!1),NREUM.addEventListener("pagehide",NREUM.beforeUnload,!1),NREUM.processQ(),NREUM.beacon=null,NREUM.licenseKey=null,NREUM.applicationID=null,NREUM.transactionName=null,NREUM.agentToken=null,NREUM.txnParam=null,NREUM.unloaded=!1,"complete"===document.readyState?NREUM.domContentLoaded():void 0!==document.addEventListener?document.addEventListener("DOMContentLoaded",NREUM.domContentLoaded,!1):void 0!==document.attachEvent&&document.attachEvent("onreadystatechange",NREUM.readyStateChange),NREUM.load||document.loaded?NREUM.onload():NREUM.addEventListener("load",NREUM.onload,!1)},NREUM.processQ=function(){var e,n,t,o=NREUM.q.length;for(t=0;t<o;t++){switch(n=null,(e=NREUM.q[t])[0]){case"mark":NREUM.mark(e[1],e[2]);break;case"measure":NREUM.measure(e[1],e[2],e[3]);break;case"done":NREUM.done(e[1]);break;case"nrf":case"nrfinish":n="t";break;case"nrf2":case"nrfinish2":n="to";break;case"nrfj":n="to",NREUM.jsonp=!0;break;case"load":NREUM.load=e[1];break;default:NREUM.dprint("Unknown queue command "+e[0])}n&&NREUM.nrfinish(n,e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12])}},NREUM.nrfinish=function(e,n,t,o,a,r,i,E,U,d,N,R,M){NREUM.dprint("NREUM: finish data received"),NREUM.txnParam=e,NREUM.beacon=n,NREUM.licenseKey=t,NREUM.applicationID=o,NREUM.transactionName=a,NREUM.tt_guid=U,NREUM.user=N,NREUM.account=R,NREUM.product=M,NREUM.measures.qt=r,NREUM.measures.ap=i,NREUM.dom_end_time=E,NREUM.agentToken=d},NREUM.mark=function(e,n){NREUM.dprint("NREUM.mark: "+e+", "+n),e?(NREUM.marks[e]=parseInt(n||(new Date).getTime(),10),"firstbyte"===e?(NREUM.measure("be","starttime","firstbyte"),NREUM.dom_start_time=NREUM.marks.firstbyte):"onload"===e?NREUM.measure("fe","firstbyte","onload"):"domContent"===e&&NREUM.measure("dc","firstbyte","domContent")):NREUM.dprint("Error: markName is undefined in NREUM.mark.")},NREUM.measure=function(e,n,t){if(NREUM.dprint("NREUM.measure: "+e+", "+n+", "+t),e){var o,a;if(void 0===n)o="number"==typeof NREUM.marks[e]?NREUM.marks[e]:(new Date).getTime();else if("number"==typeof NREUM.marks[n])o=NREUM.marks[n];else{if("number"!=typeof n)return void NREUM.dprint("Error: unexpected startNameOrTime in NREUM.measure: "+n);o=n}if(void 0===t)a=(new Date).getTime();else if("number"==typeof NREUM.marks[t])a=NREUM.marks[t];else{if("number"!=typeof t)return void NREUM.dprint("NREUM: Error: unexpected endNameOrTime in NREUM.measure: "+t);a=t}NREUM.starts[e]=parseInt(o,10),NREUM.measures[e]=parseInt(a-o,10)}else NREUM.dprint("Error: episodeName is undefined in NREUM.measure.")},NREUM.done=function(e){NREUM.bDone||(NREUM.bDone=!0,NREUM.mark("done"),NREUM.autorun&&NREUM.sendBeacon(),"function"==typeof e&&e())},NREUM.getMarks=function(){return NREUM.marks},NREUM.getMeasures=function(){return NREUM.measures},NREUM.getStarts=function(){return NREUM.starts},NREUM.sendBeacon=function(){if(!document.getElementById("nreum-send-beacon")){if(NREUM.processQ(),NREUM.domContentLoaded(),null===NREUM.licenseKey||null===NREUM.applicationID)return void NREUM.dprint("NREUM: licenseKey or applicationID has not been set");NREUM.dom_end_time&&NREUM.dom_start_time&&(NREUM.dprint("NREUM: picking up DOM processing time from embedded JS"),NREUM.mark("domContent",NREUM.dom_end_time)),NREUM.load&&(NREUM.dprint("NREUM: picking up load event time from embedded JS"),NREUM.mark("onload",NREUM.load));var e,n,t=NREUM.getMeasures(),o="";for(e in t)o+=e+"="+t[e]+"&";if(o){n=("http:"===document.location.protocol?"http:":"https:")+"//"+NREUM.beacon+"/1/"+NREUM.licenseKey,n+="?a="+NREUM.applicationID+"&",n+=o,null!==NREUM.transactionName&&NREUM.transactionName.length>0&&(n+=NREUM.txnParam+"="+encodeURIComponent(NREUM.transactionName)),null!=NREUM.tt_guid&&NREUM.tt_guid.length>0&&(n+="&tt="+encodeURIComponent(NREUM.tt_guid)),null!=NREUM.user&&NREUM.user.length>0&&(n+="&us="+encodeURIComponent(NREUM.user)),null!=NREUM.account&&NREUM.account.length>0&&(n+="&ac="+encodeURIComponent(NREUM.account)),null!=NREUM.product&&NREUM.product.length>0&&(n+="&pr="+encodeURIComponent(NREUM.product)),null!=NREUM.agentToken&&NREUM.agentToken.length>0&&(n+="&tk="+encodeURIComponent(NREUM.agentToken)),n+="&v="+NREUM.version;var a=document.createElement("script");a.id="nreum-send-beacon",NREUM.jsonp?(n+="&jsonp=NREUM.setToken",a.type="text/javascript",a.src=n):((new Image).src=n,a.type="text/x-nreum-data"),document.body.appendChild(a),NREUM.dprint("NREUM: (new) data sent",n)}}},NREUM.setToken=function(e){NREUM.dprint("NREUM: trace "+e),NREUM.beaconToken=e},NREUM.inlineHit=function(e,n,t,o,a,r){NREUM.cycle+=1,null===NREUM.licenseKey||null===NREUM.applicationID?NREUM.dprint("NREUM: licenseKey or applicationID has not been set"):(img=new Image,url=("http:"===document.location.protocol?"http:":"https:")+"//"+NREUM.beacon+"/1/"+NREUM.licenseKey,url+="?a="+NREUM.applicationID+"&",url+="t="+e+"&",url+="qt="+n+"&",url+="ap="+t+"&",url+="be="+o+"&",url+="dc="+a+"&",url+="fe="+r+"&",url+="c="+NREUM.cycle,img.src=url,NREUM.dprint("NREUM Inline: "+url))},NREUM.findStartTime=function(){var e=NREUM.findStartWebTiming()||NREUM.findStartGToolbar()||NREUM.findStartCookie();e?NREUM.mark("starttime",e):NREUM.dprint("NREUM: Error: couldn't find a start time")},NREUM.findStartWebTiming=function(){var e;if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&new Number(RegExp.$1)>=7)return e;var n=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;return void 0!==n&&void 0!==n.timing&&void 0!==n.timing.navigationStart&&NREUM.dprint("NREUM.findStartWebTiming: startTime = "+(e=n.timing.navigationStart)),e&&(NREUM.navCookie=!1),e},NREUM.findStartGToolbar=function(){var e,n;try{window.external&&window.external.pageT?e=window.external.pageT:window.gtbExternal&&window.gtbExternal.pageT?e=window.gtbExternal.pageT():window.chrome&&window.chrome.csi&&(e=window.chrome.csi().pageT),e&&e<6e4&&(n=(new Date).getTime()-e,NREUM.dprint("NREUM.findStartGToolbar: startTime = "+n))}catch(e){}return n&&(NREUM.navCookie=!1),n},NREUM.findStartCookie=function(){var e,n,t=document.cookie.split(" ");for(e=0;e<t.length;e++)if(0===t[e].indexOf("NREUM=")){var o,a,r,i,E=t[e].substring("NREUM=".length).split("&");for(n=0;n<E.length;n++)0===E[n].indexOf("s=")?r=E[n].substring(2):0===E[n].indexOf("p=")?";"===(a=E[n].substring(2)).charAt(a.length-1)&&(a=a.substr(0,a.length-1)):0===E[n].indexOf("r=")&&";"===(o=E[n].substring(2)).charAt(o.length-1)&&(o=o.substr(0,o.length-1));if(o){var U=NREUM.sHash(document.referrer);(i=U==o)||(i=NREUM.sHash(document.location.href)==o&&U==a)}if(i&&r)return(new Date).getTime()-r>6e4?void NREUM.dprint("NREUM.findStartCookie: startTime > 60s old - ignored"):(NREUM.dprint("NREUM.findStartCookie: startTime = "+r),r)}},NREUM.beforeUnload=function(e){NREUM.unloaded||(NREUM.navCookie&&(document.cookie="NREUM=s="+Number(new Date)+"&r="+NREUM.sHash(document.location.href)+"&p="+NREUM.sHash(document.referrer)+"; path=/"),NREUM.beaconToken&&(document.cookie="NRAGENT=tk="+NREUM.beaconToken+"; max-age=1; path=/"),NREUM.unloaded=!0)},NREUM.onload=function(e){NREUM.mark("onload"),NREUM.autorun&&NREUM.done()},NREUM.domContentLoaded=function(e){NREUM.contentLoadFired||(NREUM.mark("domContent",(new Date).getTime()),NREUM.contentLoadFired=!0)},NREUM.readyStateChange=function(e){"complete"===document.readyState&&NREUM.domContentLoaded()},NREUM.addEventListener=function(e,n,t){return void 0!==window.attachEvent?window.attachEvent("on"+e,n):window.addEventListener?window.addEventListener(e,n,t):void 0},NREUM.sHash=function(e){var n,t=0;for(n=0;n<e.length;n++)t+=(n+1)*e.charCodeAt(n);return Math.abs(t)},NREUM.dprint="undefined"!=typeof console&&void 0!==console.log?function(e){NREUM.logging&&console.log(e)}:function(e){},NREUM.init();