!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.EventstreamClient=e()}}((function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return r(t[s][1][e]||e)}),l,l.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){var i=e("assert"),r=e("./utils");function o(){return this.initialize.apply(this,arguments),this}o.prototype.EVENTSTREAM_ENDPOINT="/1.0/log/pixel_tracking",o.prototype.EVENTSTREAM_V2_ENDPOINT="/2.0/log/pixel_tracking",o.prototype.ANONYMOUS_VISITOR_TOKEN_COOKIE="_savt",o.prototype.TRACK_COOKIE="track_cookie",o.prototype.IDENTIFIED_VISITOR_TOKEN_PARAM="ivt",o.prototype.ANONYMOUS_VISITOR_TOKEN_PARAM="avt",o.prototype.MERCHANT_TOKEN_PARAM="mct",o.prototype.SESSION_TOKEN_PARAM="st",o.prototype.UNIT_TOKEN_PARAM="unt",o.prototype.PERSON_TOKEN_PARAM="prt",o.prototype.EMPLOYMENT_TOKEN_PARAM="emt",o.prototype.PAYMENT_TOKEN_PARAM="pmt",o.prototype.LIBRARY_NAME="js/eventstream",o.prototype.LIBRARY_VERSION="2.1.8",o.prototype.ES2_COOKIE_PREFIX_MAP={f:"track_cookie_forecast_channel",d:"track_cookie_detail_channel",p:"track_cookie_partner_channel",c:"track_cookie_campaign_channel",o:"track_cookie_offer_channel",u:"track_cookie_url_channel",l:"track_cookie_location_channel",dt:"track_cookie_device_channel",pr:"track_cookie_product_channel",sq:"track_cookie_marin_tag"},o.prototype.callCount=0,o.prototype.initialize=function e(t){i(t.applicationName,"EventstreamClient.initialize: applicationName is required"),i(t.environment,"EventstreamClient.initialize: environment is required"),this.applicationName=t.applicationName,this.environment=t.environment,this.anonymousId=t.anonymousId,this.userId=t.userId,this.merchantId=t.merchantId,this.unitId=t.unitId,this.personId=t.personId,this.employmentId=t.employmentId,this.paymentId=t.paymentId,this.defaultFields=t.defaultFields,this.sessionId=t.sessionId},o.prototype.trackV2PageView=function e(t){void 0===t&&(t={}),this.trackV2WithDefaults(r.mergeObjects([{catalog_name:"page_view"},t]))},o.prototype.trackV2WithDefaults=function e(t){var n={},i=r.getPageMetrics();for(var o in i)n["webpage_"+o]=i[o];var s=r.getUtmCampaignData();for(var a in s)n["webpage_"+a]=i[a];n=r.mergeObjects([n,r.getBrowserAndOSMetrics()]);var c=r.getScreenMetrics();for(var u in c)n[u.replace("screen","browser")]=c[u];void 0===t&&(t={}),this.trackV2(r.mergeObjects([n,t]))},o.prototype.track=function e(t){i(t.eventName,"EventstreamClient.track: eventName is required"),i(t.eventValue,"EventstreamClient.track: eventValue is required");var n=r.filterUrl(t.eventName),o=r.filterUrl(t.eventValue),s=this._applyDefaults(t.rawData||{}),a=t.anonymousId||this.anonymousId||this._getCookieValue(this.ANONYMOUS_VISITOR_TOKEN_COOKIE),c=this._getEncodedCookieValue(this.TRACK_COOKIE),u=t.userId||this.userId,l=t.merchantId||this.merchantId,p=t.unitId||this.unitId,d=t.personId||this.personId,f=t.employmentId||this.employmentId,m=t.paymentId||this.paymentId,h=t.sessionId||this.sessionId,w=t.callback||null;if(null!==this._getApiHost()){var g=[r.getMetrics(),s];c&&g.push({track_cookie:c}),s=r.mergeObjects(g);var v=new Image;"function"==typeof w&&r.addEvent(v,"load",w,!0),v.src=this._urlFor(n,o,s,a,u,l,p,d,f,m,h)}},o.prototype.trackV2=function e(t){if(i(t.catalog_name,"EventstreamClient.trackV2: catalog_name is required"),null!==this._getApiHost()){var n={app_name:this.applicationName,u_library_name:this.LIBRARY_NAME,u_library_version:this.LIBRARY_VERSION},o=t.anonymousId||this.anonymousId||this._getCookieValue(this.ANONYMOUS_VISITOR_TOKEN_COOKIE);t.subject_anonymous_token=o,t.anonymousId=void 0,t.subject_user_token=t.userId||this.userId,t.userId=void 0,t.subject_merchant_token=t.merchantId||this.merchantId,t.merchantId=void 0,t.subject_unit_token=t.unitId||this.unitId,t.unitId=void 0,t.subject_person_token=t.personId||this.personId,t.personId=void 0,t.subject_employment_token=t.employmentId||this.employmentId,t.employmentId=void 0,t.subject_payment_token=t.paymentId||this.paymentId,t.paymentId=void 0,t.session_token=t.sessionId||this.sessionId,t.sessionId=void 0;var s=t.callback||null;t.callback=void 0;for(var a,c,u=Object.keys(t),l=0;l<u.length;l++)null!=(c=t[a=u[l]])&&(n[a]=c);this._addTrackCookiesToData(n);var p=new Image;"function"==typeof s&&r.addEvent(p,"load",s,!0),p.src=this._es2UrlFor(n)}},o.prototype._es2UrlFor=function e(t){for(var n,i=[],r=Object.keys(t),o=0;o<r.length;o++)n=r[o],i.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return this.callCount+=1,i.push("nocache="+Date.now()+this.callCount),this._getApiHost()+this.EVENTSTREAM_V2_ENDPOINT+"?"+i.join("&")},o.prototype._applyDefaults=function e(t){return this.defaultFields?r.mergeObjects([this.defaultFields,t]):t},o.prototype._urlFor=function e(t,n,i,r,o,s,a,c,u,l,p){var d=[];return r&&d.push(this.ANONYMOUS_VISITOR_TOKEN_PARAM+"="+encodeURIComponent(r)),o&&d.push(this.IDENTIFIED_VISITOR_TOKEN_PARAM+"="+encodeURIComponent(o)),s&&d.push(this.MERCHANT_TOKEN_PARAM+"="+encodeURIComponent(s)),a&&d.push(this.UNIT_TOKEN_PARAM+"="+encodeURIComponent(a)),c&&d.push(this.PERSON_TOKEN_PARAM+"="+encodeURIComponent(c)),u&&d.push(this.EMPLOYMENT_TOKEN_PARAM+"="+encodeURIComponent(u)),l&&d.push(this.PAYMENT_TOKEN_PARAM+"="+encodeURIComponent(l)),p&&d.push(this.SESSION_TOKEN_PARAM+"="+encodeURIComponent(p)),d.push("app_name="+encodeURIComponent(this.applicationName)),d.push("n="+encodeURIComponent(t)),d.push("v="+encodeURIComponent(n)),d.push("m="+encodeURIComponent(JSON.stringify(i))),d.push("ln="+encodeURIComponent(this.LIBRARY_NAME)),d.push("lv="+encodeURIComponent(this.LIBRARY_VERSION)),this.callCount+=1,d.push("nocache="+Date.now()+this.callCount),this._getApiHost()+this.EVENTSTREAM_ENDPOINT+"?"+d.join("&")},o.prototype._getApiHost=function e(){return"production"===this.environment?"https://api.squareup.com":"staging"===this.environment||"development"===this.environment?"https://api.squareupstaging.com":"test-eventstream"===this.environment?"https://eventstream.example.com":null},o.prototype._getCookieValue=function e(t){for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0].replace(/^\s+|\s+$/g,"")==t)return decodeURIComponent(r[1])}return null},o.prototype._getEncodedCookieValue=function e(t){var n=this._getCookieValue(t);return n?atob(n.split("--")[0]):null},o.prototype._addTrackCookiesToData=function e(t){try{var n=JSON.parse(this._getEncodedCookieValue(this.TRACK_COOKIE))}catch(e){return}if(n)for(var i,r,o,s,a=0;a<n.length;a++)o=(i=n[a]).split("_")[0],null==(r=this.ES2_COOKIE_PREFIX_MAP[o])&&(s=i.split("-")[0],r=this.ES2_COOKIE_PREFIX_MAP[s]),void 0===r&&null===r||(t[r]=i)},t.exports=o},{"./utils":10,assert:2}],2:[function(e,t,n){var i=e("util/"),r=Array.prototype.slice,o=Object.prototype.hasOwnProperty,s=t.exports=l;function a(e,t){return i.isUndefined(t)?""+t:!i.isNumber(t)||!isNaN(t)&&isFinite(t)?i.isFunction(t)||i.isRegExp(t)?t.toString():t:t.toString()}function c(e,t){return i.isString(e)?e.length<t?e:e.slice(0,t):e}function u(e,t,n,i,r){throw new s.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function l(e,t){e||u(e,!0,t,"==",s.ok)}function p(e,t){if(e===t)return!0;if(i.isBuffer(e)&&i.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return i.isDate(e)&&i.isDate(t)?e.getTime()===t.getTime():i.isRegExp(e)&&i.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:i.isObject(e)||i.isObject(t)?function o(e,t){if(i.isNullOrUndefined(e)||i.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(d(e))return!!d(t)&&p(e=r.call(e),t=r.call(t));try{var n,o,s=h(e),a=h(t)}catch(e){return!1}if(s.length!=a.length)return!1;for(s.sort(),a.sort(),o=s.length-1;o>=0;o--)if(s[o]!=a[o])return!1;for(o=s.length-1;o>=0;o--)if(!p(e[n=s[o]],t[n]))return!1;return!0}(e,t):e==t}function d(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function f(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function m(e,t,n,r){var o;i.isString(n)&&(r=n,n=null);try{t()}catch(e){o=e}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&u(o,n,"Missing expected exception"+r),!e&&f(o,n)&&u(o,n,"Got unwanted exception"+r),e&&o&&n&&!f(o,n)||!e&&o)throw o}s.AssertionError=function e(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function n(e){return c(JSON.stringify(e.actual,a),128)+" "+e.operator+" "+c(JSON.stringify(e.expected,a),128)}(this),this.generatedMessage=!0);var i=t.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,i);else{var r=new Error;if(r.stack){var o=r.stack,s=o.indexOf("\n"+i.name);if(s>=0){var l=o.indexOf("\n",s+1);o=o.substring(l+1)}this.stack=o}}},i.inherits(s.AssertionError,Error),s.fail=u,s.ok=l,s.equal=function e(t,n,i){t!=n&&u(t,n,i,"==",s.equal)},s.notEqual=function e(t,n,i){t==n&&u(t,n,i,"!=",s.notEqual)},s.deepEqual=function e(t,n,i){p(t,n)||u(t,n,i,"deepEqual",s.deepEqual)},s.notDeepEqual=function e(t,n,i){p(t,n)&&u(t,n,i,"notDeepEqual",s.notDeepEqual)},s.strictEqual=function e(t,n,i){t!==n&&u(t,n,i,"===",s.strictEqual)},s.notStrictEqual=function e(t,n,i){t===n&&u(t,n,i,"!==",s.notStrictEqual)},s.throws=function(e,t,n){m.apply(this,[!0].concat(r.call(arguments)))},s.doesNotThrow=function(e,t){m.apply(this,[!1].concat(r.call(arguments)))},s.ifError=function(e){if(e)throw e};var h=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}},{"util/":9}],3:[function(e,t,n){var i=t.exports={};function r(){}i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),n.length>0&&n.shift()())}),!0),function e(t){n.push(t),window.postMessage("process-tick","*")}}return function e(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],4:[function(e,t,n){"use strict";var i=e("strict-uri-encode");n.extract=function(e){return e.split("?")[1]||""},n.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""))?e.split("&").reduce((function(e,t){var n=t.replace(/\+/g," ").split("="),i=n.shift(),r=n.length>0?n.join("="):void 0;return i=decodeURIComponent(i),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r,e}),{}):{}},n.stringify=function(e){return e?Object.keys(e).sort().map((function(t){var n=e[t];return Array.isArray(n)?n.sort().map((function(e){return i(t)+"="+i(e)})).join("&"):i(t)+"="+i(n)})).filter((function(e){return e.length>0})).join("&"):""}},{"strict-uri-encode":5}],5:[function(e,t,n){"use strict";t.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},{}],6:[function(e,t,n){!function(e,i){"use strict";var r="model",o="name",s="type",a="vendor",c="version",u="mobile",l="tablet",p={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&t[n].length%2==0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.split(".")[0]:void 0}},d={rgx:function(){for(var e,t,n,i,r,o,s,a=0,c=arguments;a<c.length&&!o;){var u=c[a],l=c[a+1];if(void 0===e)for(i in e={},l)l.hasOwnProperty(i)&&("object"==typeof(r=l[i])?e[r[0]]=void 0:e[r]=void 0);for(t=n=0;t<u.length&&!o;)if(o=u[t++].exec(this.getUA()))for(i=0;i<l.length;i++)s=o[++n],"object"==typeof(r=l[i])&&r.length>0?2==r.length?e[r[0]]="function"==typeof r[1]?r[1].call(this,s):r[1]:3==r.length?e[r[0]]="function"!=typeof r[1]||r[1].exec&&r[1].test?s?s.replace(r[1],r[2]):void 0:s?r[1].call(this,s,r[2]):void 0:4==r.length&&(e[r[0]]=s?r[3].call(this,s.replace(r[1],r[2])):void 0):e[r]=s||void 0;a+=2}return e},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(p.has(t[n][i],e))return"?"===n?void 0:n}else if(p.has(t[n],e))return"?"===n?void 0:n;return e}},f={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,c],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[o,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[o,"IE"],c],[/(edge)\/((\d+)?[\w\.]+)/i],[o,c],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],c],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[o,c],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[o,"UCBrowser"],c],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],c],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[c,[o,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[c,[o,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[c,[o,"Facebook"]],[/fxios\/([\w\.-]+)/i],[c,[o,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[o,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,o],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[c,d.str,f.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[o,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,a,[s,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[a,"Apple"],[s,l]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[a,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,r,[s,l]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[r,[a,"Amazon"],[s,l]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[r,d.str,f.device.amazon.model],[a,"Amazon"],[s,u]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,a,[s,u]],[/\((ip[honed|\s\w*]+);/i],[r,[a,"Apple"],[s,u]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,r,[s,u]],[/\(bb10;\s(\w+)/i],[r,[a,"BlackBerry"],[s,u]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[r,[a,"Asus"],[s,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[r,"Xperia Tablet"],[s,l]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[a,"Sony"],[r,"Xperia Phone"],[s,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,r,[s,"console"]],[/android.+;\s(shield)\sbuild/i],[r,[a,"Nvidia"],[s,"console"]],[/(playstation\s[34portablevi]+)/i],[r,[a,"Sony"],[s,"console"]],[/(sprint\s(\w+))/i],[[a,d.str,f.device.sprint.vendor],[r,d.str,f.device.sprint.model],[s,u]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[a,r,[s,l]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[a,[r,/_/g," "],[s,u]],[/(nexus\s9)/i],[r,[a,"HTC"],[s,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[a,"Microsoft"],[s,"console"]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[a,"Microsoft"],[s,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[r,[a,"Motorola"],[s,u]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[a,"Motorola"],[s,l]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],r,[s,l]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[a,"Samsung"],r,[s,u]],[/(samsung);smarttv/i],[a,r,[s,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[r,[a,"Sharp"],[s,"smarttv"]],[/sie-(\w+)*/i],[r,[a,"Siemens"],[s,u]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[a,"Nokia"],r,[s,u]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[a,"Acer"],[s,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],r,[s,l]],[/(lg) netcast\.tv/i],[a,r,[s,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[r,[a,"LG"],[s,u]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[a,"Lenovo"],[s,l]],[/linux;.+((jolla));/i],[a,r,[s,u]],[/((pebble))app\/[\d\.]+\s/i],[a,r,[s,"wearable"]],[/android.+;\s(glass)\s\d/i],[r,[a,"Google"],[s,"wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[r,/_/g," "],[a,"Xiaomi"],[s,u]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[s,p.lowerize],a,r]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[o,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,c],[/rv\:([\w\.]+).*(gecko)/i],[c,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[c,d.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[c,d.str,f.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[o,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[o,"Symbian"],c],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[o,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[o,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[o,c],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[o,"iOS"],[c,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[o,c]]},h=function(t,n){if(!(this instanceof h))return new h(t,n).getResult();var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),r=n?p.extend(m,n):m;return this.getBrowser=function(){var e=d.rgx.apply(this,r.browser);return e.major=p.major(e.version),e},this.getCPU=function(){return d.rgx.apply(this,r.cpu)},this.getDevice=function(){return d.rgx.apply(this,r.device)},this.getEngine=function(){return d.rgx.apply(this,r.engine)},this.getOS=function(){return d.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i),this};h.VERSION="0.7.10",h.BROWSER={NAME:o,MAJOR:"major",VERSION:c},h.CPU={ARCHITECTURE:"architecture"},h.DEVICE={MODEL:r,VENDOR:a,TYPE:s,CONSOLE:"console",MOBILE:u,SMARTTV:"smarttv",TABLET:l,WEARABLE:"wearable",EMBEDDED:"embedded"},h.ENGINE={NAME:o,VERSION:c},h.OS={NAME:o,VERSION:c},void 0!==n?(void 0!==t&&t.exports&&(n=t.exports=h),n.UAParser=h):e.UAParser=h;var w=e.jQuery||e.Zepto;if(void 0!==w){var g=new h;w.ua=g.getResult(),w.ua.get=function(){return g.getUA()},w.ua.set=function(e){g.setUA(e);var t=g.getResult();for(var n in t)w.ua[n]=t[n]}}}("object"==typeof window?window:this)},{}],7:[function(e,t,n){t.exports="function"==typeof Object.create?function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function e(t,n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],8:[function(e,t,n){t.exports=function e(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],9:[function(e,t,n){(function(t,i){var r=/%[sdj%]/g;n.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),c=i[n];n<o;c=i[++n])h(c)||!_(c)?s+=" "+c:s+=" "+a(c);return s},n.deprecate=function(e,r){if(v(i.process))return function(){return n.deprecate(e,r).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function s(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}};var o,s={};function a(e,t){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(t)?i.showHidden=t:t&&n._extend(i,t),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),l(i,e,i.depth)}function c(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function l(e,t,i){if(e.customInspect&&t&&I(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(i,e);return g(r)||(r=l(e,r,i)),r}var o=function s(e,t){if(v(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return w(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var a=Object.keys(t),c=function u(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),E(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(t);if(0===a.length){if(I(t))return e.stylize("[Function"+(t.name?": "+t.name:"")+"]","special");if(y(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(b(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return p(t)}var _,O="",k=!1,A=["{","}"];return f(t)&&(k=!0,A=["[","]"]),I(t)&&(O=" [Function"+(t.name?": "+t.name:"")+"]"),y(t)&&(O=" "+RegExp.prototype.toString.call(t)),b(t)&&(O=" "+Date.prototype.toUTCString.call(t)),E(t)&&(O=" "+p(t)),0!==a.length||k&&0!=t.length?i<0?y(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),_=k?function N(e,t,n,i,r){for(var o=[],s=0,a=t.length;s<a;++s)T(t,String(s))?o.push(d(e,t,n,i,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(d(e,t,n,i,r,!0))})),o}(e,t,i,c,a):a.map((function(n){return d(e,t,i,c,n,k)})),e.seen.pop(),function x(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(_,O,A)):A[0]+O+A[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,r,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=e.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),T(i,r)||(s="["+r+"]"),a||(e.seen.indexOf(c.value)<0?(a=h(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function h(e){return null===e}function w(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return void 0===e}function y(e){return _(e)&&"[object RegExp]"===O(e)}function _(e){return"object"==typeof e&&null!==e}function b(e){return _(e)&&"[object Date]"===O(e)}function E(e){return _(e)&&("[object Error]"===O(e)||e instanceof Error)}function I(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(v(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else s[e]=function(){};return s[e]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=m,n.isNull=h,n.isNullOrUndefined=function A(e){return null==e},n.isNumber=w,n.isString=g,n.isSymbol=function N(e){return"symbol"==typeof e},n.isUndefined=v,n.isRegExp=y,n.isObject=_,n.isDate=b,n.isError=E,n.isFunction=I,n.isPrimitive=function x(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){console.log("%s - %s",R(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":8,_process:3,inherits:7}],10:[function(e,t,n){var i=e("ua-parser-js"),r=e("query-string");function o(e){for(var t={},n=0;n<e.length;n++)for(var i in e[n])t[i]=e[n][i];return t}function s(e){var t="",n="";if(-1!=e.indexOf("?")){var i=e.split("?");t=i[0],n=i[1]}else n=e;var r=["email","email_confirmation","password"],o=n.split("&");return o=o.map((function(e){var t=e.split("=");return-1!=r.indexOf(t[0])?t[1]="[REDACTED]":void 0!==t[1]&&a(t[1]),t.join("=")})),a(""!=t?t+"?"+o.join("&"):o.join("&"))}function a(e){return e.replace(/[a-zA-Z0-9\.\_\-\+]+(@|%40)[a-zA-Z0-9]+\.[a-zA-Z0-9]+/g,"[REDACTED]")}function c(){return{path:window.document.location.pathname,referrer:s(window.document.referrer),title:window.document.title,search:s(window.document.location.search),full_url:s(window.document.location.href),base_url:window.document.location.origin}}function u(){return{screen_height:window.screen.height,screen_width:window.screen.width}}function l(){var e=i(window.navigator.userAgent);return{browser_name:e.browser.name,browser_version:e.browser.version,browser_major_version:e.browser.major,os_name:e.os.name,os_version:e.os.version}}function p(){var e=r.parse(window.document.location.search),t={};return e.utm_source&&(t.utm_source=e.utm_source),e.utm_medium&&(t.utm_medium=e.utm_medium),e.utm_campaign&&(t.utm_campaign=e.utm_campaign),e.utm_term&&(t.utm_term=e.utm_term),e.utm_content&&(t.utm_content=e.utm_content),t}t.exports={mergeObjects:o,getMetrics:function d(){return o([u(),c(),l(),p()])},getBrowserAndOSMetrics:l,getScreenMetrics:u,getPageMetrics:c,getUtmCampaignData:p,filterUrl:s,addEvent:function f(e,t,n,i){return e.addEventListener?(e.addEventListener(t,n,i),!0):e.attachEvent?e.attachEvent("on"+t,n):(e["on"+t]=n,!0)}}},{"query-string":4,"ua-parser-js":6}]},{},[1])(1)}));