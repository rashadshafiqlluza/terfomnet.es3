$(document).ready((function(){var e=function(e){e.removeClass("active"),$("body").unbind("click.languageSelectorActive"),$("body").unbind("keyup.languageSelectorActive"),$("body").unbind("click.languagePrompt"),$(document).unbind("keydown.languagePrompt")};$("body").delegate(".language-selector .selected-language","click.languageSelect",(function(a){var n;a.preventDefault(),a.stopImmediatePropagation(),(n=$(this).parent()).hasClass("active")||($(".country-selector, .language-selector").removeClass("active"),n.addClass("active"),$("body").bind("click.languageSelectorActive",(function(a){e(n)})),$("body").bind("keyup.languageSelectorActive",(function(a){27==a.keyCode&&e(n)})))})),$(".language:not(.active)").click((function(e){e.preventDefault(),e.stopPropagation();var a=$(this),n=a.data("language");a.addClass("active").siblings().removeClass("active");var t=window.location.href.split("?"),i=t[0];t.shift();var o=t.join("?"),c="";o&&o.split("&").forEach((function(e,a){e.startsWith("lang_code=")||(c=""===c?e:c+"&"+e)}));var l=(i+"?"+c).split("?"),g=l[0]+"?lang_code="+n;l.shift(),l[1]=l.join("?"),void 0!==l[1]&&""!==l[1]&&(g=g+"&"+l[1]),window.location.href=g})),$("body").delegate(".language.active","click.languageSelect",(function(a){e($(this).closest(".language-selector"))})),$(".selected-language").bind("click",(function(a){var n;a.preventDefault(),$("body").bind("click.languagePrompt",(function(a){e(n)})),$(document).bind("keydown.languagePrompt",(function(a){27==a.keyCode&&e(n)})),n=$(this).parent().find(".language-prompt").toggleClass("active")}))}));